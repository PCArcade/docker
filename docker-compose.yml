version: "2.3" 
services:

  asf:
    image: ghcr.io/justarchinet/archisteamfarm
    container_name: asf
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /home/pcarcade/.config/asf:/app/config
    restart: unless-stopped

  ddclient:
    image: ghcr.io/linuxserver/ddclient
    container_name: ddclient
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /home/pcarcade/.config/ddclient:/etc/ddclient
    restart: unless-stopped

  dockerproxy:
    image: tecnativa/docker-socket-proxy
    container_name: dockerproxy    
    privileged: true
    volumes:
      - '/var/run/docker.sock:/var/run/docker.sock'
    ports:
      - '127.0.0.1:2375:2375'
    restart: unless-stopped

  netdata:
    image: netdata/netdata
    container_name: netdata
    hostname: 192.168.0.5
    ports:
      - 19999:19999
    cap_add:
      - SYS_PTRACE
    security_opt:
      - apparmor:unconfined
    environment:
      - DOCKER_HOST=http://localhost:2375
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
    restart: unless-stopped

  mariadb:
    image: ghcr.io/linuxserver/mariadb
    container_name: mariadb
    environment:
      - PUID=1000
      - PGID=1000
      - MYSQL_ROOT_PASSWORD=${SQL_ROOT}
      - TZ=Europe/London
      - MYSQL_USER=${SQL_USER}
      - MYSQL_PASSWORD=${SQL_PASS}
    volumes:
      - /home/pcarcade/.config/mariadb:/config
    ports:
      - 3306:3306
    restart: unless-stopped

#  openvpn-as:
#    image: ghcr.io/linuxserver/openvpn-as
#    container_name: openvpn-as
#    cap_add:
#      - NET_ADMIN
#    environment:
#      - PUID=1000
#      - PGID=1000
#      - TZ=Europe/London
#    volumes:
#      - /home/pcarcade/.config/openvpn:/config
#    ports:
#      - 943:943
#      - 9443:9443
#      - 1194:1194/udp
#    restart: never

  heimdall:
    image: ghcr.io/linuxserver/heimdall
    container_name: heimdall
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /home/pcarcade/.config/heimdall:/config
    restart: unless-stopped

  nzbget:
    image: ghcr.io/linuxserver/nzbget
    container_name: nzbget
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - UMASK_SET=022
    volumes:
      - /home/pcarcade/.config/nzbget:/config
      - /mnt/merged/media/usenet:/media/usenet
      - /mnt/ssd001/p2p:/mnt/ssd001/p2p
      - /mnt/merged/Downloads:/watched
    ports:
      - 6789:6789
      - 6791:6791
    restart: unless-stopped

  sonarr:
    image: ghcr.io/linuxserver/sonarr
    container_name: sonarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - UMASK_SET=022 #optional
    volumes:
      - /home/pcarcade/.config/sonarr:/config
      - /mnt/merged/media:/media
    ports:
      - 8989:8989
    restart: unless-stopped

  radarr:
    image: ghcr.io/linuxserver/radarr
    container_name: radarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - UMASK_SET=022 #optional
    volumes:
      - /home/pcarcade/.config/radarr:/config
      - /mnt/merged/media:/media
    ports:
      - 7878:7878
    restart: unless-stopped

  jackett:
    image: ghcr.io/linuxserver/jackett
    container_name: jackett
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - UMASK_SET=022
    volumes:
      - /home/pcarcade/.config/jackett:/config
    ports:
      - 9117:9117
    restart: unless-stopped

  swag:
    image: ghcr.io/linuxserver/swag
    container_name: swag
    cap_add:
      - NET_ADMIN
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - URL=${URL}
      - SUBDOMAINS=wildcard
      - VALIDATION=dns
      - DNSPLUGIN=cloudflare
      - MAXMINDDB_LICENSE_KEY=${MAXMIND}
    volumes:
      - /home/pcarcade/.config/swag:/config
    ports:
      - 443:443
      - 80:80 #optional
    restart: unless-stopped

  deemix:
    image: registry.gitlab.com/bockiii/deemix-docker
    container_name: deemix
    volumes:
      - /mnt/merged/media/library:/downloads
      - /home/pcarcade/.config/deemix:/config
    environment:
      - PUID=1000
      - PGID=1000
      - UMASK_SET=022
      - ARL=${ARL}
      - DEEZUI=false
      - REVERSEPROXY=true
    ports:
      - 6595:6595
    restart: unless-stopped

  deluge:
    image: ghcr.io/linuxserver/deluge
    container_name: deluge
    network_mode: host
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - DELUGE_LOGLEVEL=error #optional
    volumes:
      - /home/pcarcade/.config/deluge:/config
      - /mnt/merged/media/torrents:/media/torrents
      - /mnt/merged/Storage/Games/Switch/library:/Switch
      - /mnt/ssd001/p2p:/mnt/ssd001/p2p
    restart: unless-stopped

  ddclient:
    image: ghcr.io/linuxserver/ddclient
    container_name: ddclient
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /home/pcarcade/.config/ddclient:/config
    restart: unless-stopped

  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    environment:
      - LOG_LEVEL=info
      - LOG_HTML=false
      - CAPTCHA_SOLVER=none
    ports:
      - 8191:8191
    restart: unless-stopped 

  plex:
    runtime: nvidia
    image: ghcr.io/linuxserver/plex
    container_name: plex
    network_mode: host
    environment:
      - PUID=1000
      - PGID=1000
      - VERSION=docker
      - PLEX_CLAIM=${PLEX_CLAIM}
      - NVIDIA_VISIBLE_DEVICES=all
    volumes:
      - /home/pcarcade/.config/plex:/config
      - /mnt/merged/media:/media
    restart: unless-stopped
